- name: Install python development packages
  apt: name={{ item }} state=latest default_release=testing
  with_items:
    - python3.6
    - python3.6-venv
    - python3-pip
- name: Create /srv/venv
  shell: "python3.6 -m venv /srv/venv"
  args:
    creates: "/srv/venv"
- name: Synchronize python-dev
  become: false
  synchronize:
    src: python-dev/
    dest: /vagrant/python-dev/
    delete: yes
    recursive: yes
- name: Prepare /srv/venv
  shell: |
    . /srv/venv/bin/activate

    cd /vagrant/python-dev
    pip install --upgrade .
